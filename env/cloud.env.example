# =============================================================================
# CareCircle - Cloud Deployment Profile (TEMPLATE)
# =============================================================================
# Managed services: Neon (Postgres), Upstash (Redis), CloudAMQP (RabbitMQ)
# TLS = true for all connections
#
# Copy to env/cloud.env and fill in your service credentials.
# =============================================================================

# =============================================================================
# DATABASE - PostgreSQL (Neon)
# =============================================================================
# Sign up at: https://neon.tech/ (Free tier: 512MB storage)
# Get connection string from: Dashboard > Connection Details
DB_HOST=ep-your-project-id.region.aws.neon.tech
DB_PORT=5432
DB_USERNAME=your-neon-username
DB_PASSWORD=your-neon-password
DB_DATABASE=neondb
DB_SSL=true
DATABASE_URL=postgresql://your-username:your-password@ep-your-project-id.region.aws.neon.tech/neondb?sslmode=require

# =============================================================================
# REDIS (Upstash)
# =============================================================================
# Sign up at: https://upstash.com/ (Free tier: 10K commands/day)
# Get credentials from: Database > Details
REDIS_HOST=your-database.upstash.io
REDIS_PORT=6379
REDIS_PASSWORD=your-upstash-password
REDIS_TLS=true
UPSTASH_REDIS_REST_URL=https://your-database.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-rest-token

# =============================================================================
# MESSAGE QUEUE - RabbitMQ (CloudAMQP)
# =============================================================================
# Sign up at: https://www.cloudamqp.com/ (Free tier: Little Lemur)
# Get credentials from: Instance > AMQP Details
AMQP_URL=amqps://username:password@hostname.cloudamqp.com/vhost
AMQP_HOST=hostname.cloudamqp.com
AMQP_USER=your-username
AMQP_PASSWORD=your-password
AMQP_VHOST=your-vhost
AMQP_PORT=5672
AMQP_TLS_PORT=5671
AMQP_TLS=true

# =============================================================================
# MQTT (CloudAMQP)
# =============================================================================
MQTT_HOST=hostname.cloudamqp.com
MQTT_PORT=1883
MQTT_TLS_PORT=8883
MQTT_USERNAME=vhost:username
MQTT_PASSWORD=your-password
MQTT_TLS=true

# =============================================================================
# WORKERS CONFIGURATION (Cloud-optimized)
# =============================================================================
# Lower concurrency for managed services with connection limits
WORKER_CONCURRENCY=5
JOB_ATTEMPTS=5
JOB_BACKOFF_DELAY=2000
JOB_TIMEOUT=60000
HEALTH_PORT=4001

# =============================================================================
# LOGGING (Cloud)
# =============================================================================
LOG_LEVEL=info
PRISMA_LOG_LEVEL=warn,error
PRISMA_SLOW_QUERY_LOG=false

